2025/12/24同步
1. 影响adv和scan开关的变量如何处理
    结论：adv和scan的stop只能通过手动实现
         adv_max_skip=0 adv_duration=0
         scan被测端和配合端都设为full_scan
2. duplicate如何设置？
    结论: 设置为不过滤
3. 方案分歧: 参数计算是否采取全集-无效集
    xy: privacy=0，才能设置own_addr_type=2或3
        若privacy=1，不能设置own_addr_type=2或3
    hh: own_addr_type是否能设置为2或3，不应该受privacy值的影响
    xy方案：计算出全集，因为4.2参数少
    hh方案：少的话算全集，多的话不算全集
   结论：[待定]，下次会议hh给出结论
4. adv_interval scan占空比 scan_timeout是否要放入随机模式？
    - adv_interval scan占空比 scan_timeout在性能测试/压测中已经覆盖
    - scan_window和scan_interval有效性通过电流图确定
    如果放入计算公式是什么？
    - swl给出过一个，所有人是否认可？
    - 能否cover空气中测试？长短包和干扰
    - 若都认可且认为可以cover，随机出问题不能认为是QA的问题
    结论: 介绍随机模式时跟开发确定
5. adv_interval是否要存？
    - 若存，用准确值计算scan_timeot
    - 若不存，用范围/最大值计算scan_timeout
    结论: [待定]
6. 匿名广播id如何判定？对应的扫到逻辑如何修改？
    结论: [待定]，下次会议hh给出结论
7. extend_adv handle讨论
    结论：
    - 流程改变：
      原随机顺序：先定handle(kxy) -> 再定action(kxy) -> 再定param(yhh)
      改后随机顺序：先定action(kxy) -> handle和param一起确定(yhh)
    - 若当前adv_handle中没有满足跳转要求的，就新增1个handle并生成满足要求的参数
    - 若handle满了，hh给xy返回NULL，xy需更新next_step_list，删除跳转失败的target_status, 重新选择下一步
    - extend_adv作为测试端最多可开几个 [待查]
    - 改变流程后，hh不需要维护action_status,只需要更新DutInfo，每一步存一下
8. 设置random讨论：
    - 设置的行为/状态选择放哪儿？如何实现？
      结论：放入所有action，所有action都可进入。
           如何实现[待定]
    - 所有handle都设置过random_addr后，再执行set_random_addr, 返回失败还是覆盖random_addr值？
      结论: 覆盖
9. scan作为测试端:
    - 整体流程：
        开scan -> 开adv -> 开checker -> 关scan清checker -> 关adv
    - 开adv流程：
        - xy判断是否为配合端，若是则给hh传action时带peer_dut
        - xy确定配合端从idle转移到start_adv，分步给hh发action，每次都带peer_dut,expected_res都是True
    - adv handle写死为0(hh设置)
10. adv作为测试端:
    - 整体流程：
        开adv -> (开scan) -> 关adv
    - 何时需要开scan?
        start_adv/更新adv_data/stop_adv时都需要开scan
    



    


    
    